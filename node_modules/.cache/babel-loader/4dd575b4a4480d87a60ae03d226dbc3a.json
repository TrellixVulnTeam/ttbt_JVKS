{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detector = void 0;\n\nconst types_1 = require(\"./types\");\n\nconst keys = Object.keys(types_1.typeHandlers); // This map helps avoid validating for every single image type\n\nconst firstBytes = {\n  0x38: 'psd',\n  0x42: 'bmp',\n  0x44: 'dds',\n  0x47: 'gif',\n  0x49: 'tiff',\n  0x4d: 'tiff',\n  0x52: 'webp',\n  0x69: 'icns',\n  0x89: 'png',\n  0xff: 'jpg'\n};\n\nfunction detector(buffer) {\n  const byte = buffer[0];\n\n  if (byte in firstBytes) {\n    const type = firstBytes[byte];\n\n    if (types_1.typeHandlers[type].validate(buffer)) {\n      return type;\n    }\n  }\n\n  const finder = key => types_1.typeHandlers[key].validate(buffer);\n\n  return keys.find(finder);\n}\n\nexports.detector = detector;","map":{"version":3,"sources":["D:/Desktop/Em Yeu Website/node_modules/image-size/dist/detector.js"],"names":["Object","defineProperty","exports","value","detector","types_1","require","keys","typeHandlers","firstBytes","buffer","byte","type","validate","finder","key","find"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,QAAR,GAAmB,KAAK,CAAxB;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,IAAI,GAAGP,MAAM,CAACO,IAAP,CAAYF,OAAO,CAACG,YAApB,CAAb,C,CACA;;AACA,MAAMC,UAAU,GAAG;AACf,QAAM,KADS;AAEf,QAAM,KAFS;AAGf,QAAM,KAHS;AAIf,QAAM,KAJS;AAKf,QAAM,MALS;AAMf,QAAM,MANS;AAOf,QAAM,MAPS;AAQf,QAAM,MARS;AASf,QAAM,KATS;AAUf,QAAM;AAVS,CAAnB;;AAYA,SAASL,QAAT,CAAkBM,MAAlB,EAA0B;AACtB,QAAMC,IAAI,GAAGD,MAAM,CAAC,CAAD,CAAnB;;AACA,MAAIC,IAAI,IAAIF,UAAZ,EAAwB;AACpB,UAAMG,IAAI,GAAGH,UAAU,CAACE,IAAD,CAAvB;;AACA,QAAIN,OAAO,CAACG,YAAR,CAAqBI,IAArB,EAA2BC,QAA3B,CAAoCH,MAApC,CAAJ,EAAiD;AAC7C,aAAOE,IAAP;AACH;AACJ;;AACD,QAAME,MAAM,GAAIC,GAAD,IAASV,OAAO,CAACG,YAAR,CAAqBO,GAArB,EAA0BF,QAA1B,CAAmCH,MAAnC,CAAxB;;AACA,SAAOH,IAAI,CAACS,IAAL,CAAUF,MAAV,CAAP;AACH;;AACDZ,OAAO,CAACE,QAAR,GAAmBA,QAAnB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.detector = void 0;\nconst types_1 = require(\"./types\");\nconst keys = Object.keys(types_1.typeHandlers);\n// This map helps avoid validating for every single image type\nconst firstBytes = {\n    0x38: 'psd',\n    0x42: 'bmp',\n    0x44: 'dds',\n    0x47: 'gif',\n    0x49: 'tiff',\n    0x4d: 'tiff',\n    0x52: 'webp',\n    0x69: 'icns',\n    0x89: 'png',\n    0xff: 'jpg'\n};\nfunction detector(buffer) {\n    const byte = buffer[0];\n    if (byte in firstBytes) {\n        const type = firstBytes[byte];\n        if (types_1.typeHandlers[type].validate(buffer)) {\n            return type;\n        }\n    }\n    const finder = (key) => types_1.typeHandlers[key].validate(buffer);\n    return keys.find(finder);\n}\nexports.detector = detector;\n"]},"metadata":{},"sourceType":"script"}